containers:
  m:
    image: mongo
    ports: {27017: 27017}

  pro:
    image: bnb/hanode:0.1
    ports: {1004: 4000, 2004: 1898, 3004:8080}
    environment: {VERTX_OPTIONS: -ha, STARTER_VERTICLE: producer.groovy}

  c:
    image: bnb/hanode:0.1
    ports: {1001: 4000, 2001: 1898, 3001:8080}
    environment: {VERTX_OPTIONS: -ha, STARTER_VERTICLE: consumer.rb}

  w:
    image: bnb/hanode:0.1
    ports: {1002: 4000, 2002: 1898, 3002:8080}
    environment: {VERTX_OPTIONS: -ha, STARTER_VERTICLE: web.js}

  per:
    image: bnb/hanode:0.1
    ports: {1003: 4000, 2003: 1898, 3003:8080}
    environment: {VERTX_OPTIONS: -ha, STARTER_VERTICLE: ru.spb.luxoft.vertx.webinar.bnb.Persistor}